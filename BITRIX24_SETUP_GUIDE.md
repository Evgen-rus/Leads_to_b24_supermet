# Инструкция по настройке отправки лидов в Битрикс24

## Что нужно получить от клиента

### 1. Обязательные данные от клиента

#### 1.1 Webhook URL для Битрикс24
- **Что это:** Специальный URL для доступа к API Битрикс24 клиента
- **Формат:** `https://[ПОРТАЛ].bitrix24.ru/rest/[USER_ID]/[WEBHOOK_KEY]/`

**Как клиент может получить Webhook URL:**
1. Зайти в свой Битрикс24
2. Перейти в Приложения → Разработчикам → Другое → Входящий вебхук
3. Создать новый вебхук с правами на CRM
4. Скопировать полученный URL

#### 1.2 Настройки лида
Следующие параметры нужны для корректного создания лидов:

**SOURCE_ID** - Источник лида
- **Что это:** ID источника, откуда пришел лид
- **Как узнать:** Используйте скрипт `bitrix24_fields.py` для получения списка
- **Пример:** `'106'` (LeadRecord)

**STATUS_ID** - Статус (этап) лида  
- **Что это:** ID этапа воронки, на который будет помещен лид
- **Как узнать:** Используйте скрипт `bitrix24_fields.py` для получения списка
- **Пример:** `'UC_LF7L5W'` (DMP - LEADRECORD)

**ASSIGNED_BY_ID** - Ответственный за лид
- **Что это:** ID пользователя, который будет назначен ответственным
- **Пример:** `'20140'`

### 2. Дополнительные настройки (опционально)

#### 2.1 Формат названия лида
- **Текущий формат:** `LR_конк_ {phone}` где {phone} - номер телефона
- **Можно настроить:** Любой формат по желанию клиента

## Тестирование настройки

### 1. Тестовая отправка
Используйте файл `src/upload_leads.py` для тестовой отправки:
1. Создайте Excel файл с колонкой "Телефон" и тестовым номером
2. Запустите `python src/upload_leads.py`
3. Проверьте, что лид появился в Битрикс24 клиента